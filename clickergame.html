<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <title>Giggle Clicker</title>
	<script>
		var giggles = 0;
		var giggleincrease = 1;
		var upgradeauto = 1;
		var msec = 0;
		var autogiggler=0;
		var premiumgiggler=0;
		var genkgiggler=0;
		var renkgiggler=0;
		var mokeygiggler=0;
		var questionmark=0;
		var gems=0;
		
		//updates all values
		function reloadall() {
			document.getElementById("var").innerHTML = "Giggles: " + giggles;
			if(autogiggler>=1){
				document.getElementById("persec").innerHTML = "Giggles/s: " + msec;
			}
			document.getElementById('upgamt1').innerText = "Level: " + autogiggler;
			document.getElementById('upgamt2').innerText = "Level: " + premiumgiggler;
			document.getElementById('upgamt3').innerText = "Level: " + genkgiggler;
			document.getElementById('upgamt4').innerText = "Level: " + mokeygiggler;
			document.getElementById('upgamt5').innerText = "Level: " + renkgiggler;
			document.getElementById('upgamt6').innerText = "Level: " + questionmark;
		}
		//overwrites save file
		function save() {
		  localStorage.setItem("giggles", giggles);
		  localStorage.setItem("giggleincrease", giggleincrease);
		  localStorage.setItem("msec", msec);
		  localStorage.setItem("autogiggler", autogiggler);
		  localStorage.setItem("premiumgiggler", premiumgiggler);
		  localStorage.setItem("genkgiggler", genkgiggler);
		  localStorage.setItem("renkgiggler", renkgiggler);
		  localStorage.setItem("mokeygiggler", mokeygiggler);
		  localStorage.setItem("questionmark", questionmark);
		  localStorage.setItem("gems", gems);
		}
		//loads save file
		function load() {
		  giggles = parseInt(localStorage.getItem("giggles"));
		  giggleincrease = parseInt(localStorage.getItem("giggleincrease"));
		  msec = parseInt(localStorage.getItem("msec"));
		  autogiggler = parseInt(localStorage.getItem("autogiggler"));
		  premiumgiggler = parseInt(localStorage.getItem("premiumgiggler"));
		  genkgiggler = parseInt(localStorage.getItem("genkgiggler"));
		  renkgiggler = parseInt(localStorage.getItem("renkgiggler"));
		  mokeygiggler = parseInt(localStorage.getItem("mokeygiggler"));
		  questionmark = parseInt(localStorage.getItem("questionmark"));
		  workerown = parseInt(localStorage.getItem("workerown"));
		  gems = parseInt(localStorage.getItem("gems"));
		  reloadall();
		}
		//save before exiting
		function closingCode() {
		  if (confirm("You have closed the window, would you like to save?") === true) {
			save();
			return null;
		  }
		}
		function ac(x) {
			return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
		}
		
		function buyUpgrade(x){
			if(x=="AutoGiggler"){
				if(giggles>=25){
					giggles = giggles - 25;
					msec = msec + upgradeauto;
					autogiggler += 1;
					update();
					document.getElementById('upgamt1').innerText = "Level: " + ac(autogiggler);
				} else {
					alert("You do not have enough for the Auto Giggler!");
				}
			}
			if(x=="PremiumGiggler"){
				if(giggles>=100){
					giggles = giggles - 100;
					premiumgiggler += 1;
					document.getElementById('upgamt2').innerText = "Level: " + ac(premiumgiggler);
					giggleincrease += 1;
					update();
				} else {
					alert("You do not have enough for the Premium Giggler!");
				}
			}
			if(x=="GenkGiggler"){
				if(giggles>=250){
					giggles = giggles - 250;
					genkgiggler += 1;
					document.getElementById('upgamt3').innerText = "Level: " +ac(genkgiggler);
					update();
				} else {
					alert("You do not have enough for the Genk Giggler!");
				}
			}
			if(x=="MokeyGiggler"){
				if(giggles>=500){
					giggles = giggles - 500;
					mokeygiggler += 1;
					document.getElementById('upgamt4').innerText = "Level: " + ac(mokeygiggler);
					update();
				} else {
					alert("You do not have enough for the Mokey Giggler!");
				}
			}
			if(x=="RenkGiggler"){
				if(giggles>=10000){
					giggles = giggles - 10000;
					renkgiggler += 1;
					update();
					document.getElementById('upgamt5').innerText = "Level: " + ac(renkgiggler);
				} else {
					alert("You do not have enough for the Renk Giggler!");
				}
			}
			if(x=="QuestionMark"){
				if(giggles>=200000){
					giggles = giggles - 200000;
					questionmark += 1;
					update();
					document.getElementById('upgamt6').innerText = "Level: " + ac(questionmark);
					document.getElementById('question').innerHTML = "You win :)";
				} else {
					alert("You do not have enough for the ???!");
				}
			}
		}
		function update() {
			document.getElementById('var').innerText = "Giggles: " + ac(giggles);
			if(renkgiggler>=1){
				document.getElementById('box').innerText = "+" + ac(giggleincrease*renkgiggler);
			} else {
				document.getElementById('box').innerText = "+" + ac(giggleincrease) + " Giggle";
			}
			if(autogiggler>=1){
				document.getElementById('persec').innerText = "Giggles/s: " + ac(msec);
			}
		}
		function clicked(){
			if(renkgiggler>=1){
				giggles = giggles + (giggleincrease*renkgiggler);
				if(genkgiggler>=1){
					x = Math.random();
					if(x < .01){
						giggles = giggles + (genkgiggler * 20 * (renkgiggler));
						update();
						console.log("okay :/");
					}
				}
				if(mokeygiggler>=1){
					x = Math.random();
					if(x < .05){
						giggles = giggles + (mokeygiggler * 5);
						gems += gems * mokeygiggler;
						update();
					}
				}
			} else {
				giggles = giggles + giggleincrease;
				if(genkgiggler>=1){
					x = Math.random();
					if(x < .01){
						giggles = giggles + (genkgiggler * 20);
						update();
						console.log("okay :/");
					}
					if(mokeygiggler>=1){
					x = Math.random();
						if(x < .05){
							giggles = giggles + (mokeygiggler * 5 * renkgiggler);
							gems += gems * mokeygiggler;
							update();
						}
					}
				}
			}
			update();
		}
		
		function myTimer() {
			giggles = giggles + msec;
			reloadall();
			document.getElementById("var").innerHTML = "Giggles: " + ac(giggles);
			document.getElementById("gems").innerHTML = "Gems: " + ac(gems);
		}
		setInterval(myTimer, 1000);
		
		function clearMessages() {
			document.getElementById("autosave").innerHTML = "( ! )";
		}
		setInterval(clearMessages, 5000);
		
		function mySecondTimer() {
			save();
			autosaveMessage();
		}
		setInterval(mySecondTimer, 60000);
		
		function autosaveMessage() {
			document.getElementById("autosave").innerHTML = "( ! ) Your game has been saved!";
		}
		
	</script>
  </head>
  
  <body onbeforeunload="closingCode()" id="question" style="margin:0px; padding:0px; background-attachment: fixed; color:#ffffff; text-align:-webkit-center; background-color:#232527;">
	<section style="float:right;">
		<div id='autosave' class="round" style="visibility:true; font-family:courier;  font-size: 12px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .5em 2em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 4px 4px 0 0 #4D5259; border-radius: 100px; outline:0; transition: ease all .1s;">( ! )</div>
		<br>
		<div id='gems' class="round" style="visibility:true; font-family:courier; font-size: 12px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .5em 2em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 4px 4px 0 0 #4D5259; border-radius: 100px; outline:0; transition: ease all .1s;"><img src="https://media.discordapp.net/attachments/917831049030012939/997613922779660389/1144441.png" style="width:20px; height:20px;"> Gems: 0</div>
	</section>
	<section style="float:left;">
		<div id="menu" class="round" onclick="openMenu()" style="visibility:true; font-family:courier;  font-size: 24px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .2em .7em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 2px 2px 0 0 #4D5259; border-radius: 100px; outline:0; transition: ease all .1s;">
			Coming Soon!
		</div>
	</section>
    <div class="name" style="width:200px; color:#ffffff; font-family:'Courier';">Giggle Clicker</div>
    <div class="version" style="width:150px; color:#ffffff; font-family:'Courier';">Version Alpha</div>
	<br>
    <center>
    <div style="font-size: 20px; width: 200px; color:#ffffff; font-family:'Courier';" id="var">Giggles: 0</div>
	<div style="font-size: 20px; width: 700px; color:#ffffff; font-family:'Courier';" id="persec">Purchase the Auto Giggler to Unlock Auto Clicking!</div>
    <br>
    <button id="box" style="width:100px; height:50px;" onclick='clicked()'>+1 Giggle</button>
    </center>
    <h1 style="font-size: 30px">Upgrades!</h1>
	
    <section style="font-family:courier; font-size: 12px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .5em 2em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 4px 4px 0 0 #4D5259; border-radius: 70px; width:600px; outline:0; transition: ease all .1s;">
			<div id="upgrade" style="width:150px;">Auto Giggler</div>
			<div>Cost: 25</div>
			<button onclick="buyUpgrade('AutoGiggler')" style="width:90px; height:30px;" id="upgamt1">Level: 0</button>
		<div id="enhancement" style="height:20px; width:200px;">Enhance</div>
	</section>
	<br>
	<section style="font-family:courier; float:center; font-size: 12px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .5em 2em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 4px 4px 0 0 #4D5259; border-radius: 100px; width:600px; outline:0; transition: ease all .1s;">
		<div style="float:center;">
		<div id="upgrade" style="width:150px;">Premium Giggler</div>
		<div>Cost: 100</div>
		<button onclick="buyUpgrade('PremiumGiggler')" style="width:90px; height:30px;" id="upgamt2">Level: 0</button>
		<br>
		</div>
		<div id="enhancement" style="float:center; height:20px; width:200px;">Enhance</div>
	</section>
	<br>
	<section style="font-family:courier; float:center; font-size: 12px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .5em 2em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 4px 4px 0 0 #4D5259; border-radius: 100px; width:600px; outline:0; transition: ease all .1s;">
		<div style="float:center;">
		<div id="upgrade" style="width:150px";>Genk Giggler</div>
		<div>Cost: 250</div>
		<button onclick="buyUpgrade('GenkGiggler')" style="width:90px; height:30px;" id="upgamt3">Level: 0</button>
		<br>
		</div>
		<div id="enhancement" style="float:right; height:20px; width:200px;">Enhance</div>
	</section>
	<br>
	<section style="font-family:courier; float:center; font-size: 12px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .5em 2em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 4px 4px 0 0 #4D5259; border-radius: 100px; width:600px; outline:0; transition: ease all .1s;">
		<div style="float:center;">
		<div id="upgrade" style="width:150px";>Mokey Giggler</div>
		<div>Cost: 500</div>
		<button onclick="buyUpgrade('MokeyGiggler')" style="width:90px; height:30px;" id="upgamt4">Level: 0</button>
		<br>
		</div>
		<div id="enhancement" style="float:center; height:20px; width:200px;">Enhance</div>
	</section>
	<br>
	<section style="font-family:courier; float:center; font-size: 12px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .5em 2em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 4px 4px 0 0 #4D5259; border-radius: 100px; width:600px; outline:0; transition: ease all .1s;">
		<div style="float:center;">
		<div id="upgrade" style="width:150px;">Renk Giggler</div>
		<div>Cost: 10000</div>
		<button onclick="buyUpgrade('RenkGiggler')" style="width:90px; height:30px;" id="upgamt5">Level: 0</button>
		<br>
		</div>
		<div id="enhancement" style="float:center; height:20px; width:200px;">Enhance</div>
	</section>
	<br>
	<section style="font-family:courier; float:center; font-size: 12px; color: #4D5259; line-height: 1.5;font-weight: bold; padding: .5em 2em; background: #FFFFFF; border: 2px solid #4D5259; box-shadow: 4px 4px 0 0 #4D5259; border-radius: 100px; width:600px; outline:0; transition: ease all .1s;">
		<div style="float:center;">
		<div id="upgrade" style="width:150px;">???</div>
		<div>Cost: 200000</div>
		<button onclick="buyUpgrade('QuestionMark')" style="width:90px; height:30px;" id="upgamt6">Level: 0</button>
		<br>
		</div>
		<div id="enhancement" style="float:center; height:20px; width:200px;">Enhance</div>
	</section>
	<footer>
		<br>
		<button class="settings" onclick="save()">Save</button>
		<button class="settings" onclick="load()">Load</button>
	</footer>
  </body>
</html>